<%= render 'layouts/errors', object: @user %>

<div class="ls-login-parent">
  <div class="ls-login-inner">
    <div class="ls-login-container">
      <div class="ls-login-box">
        <h1 class="ls-login-logo">
          <img title="Logo Login" src="https://opensource.locaweb.com.br/locawebstyle/assets/images/locastyle/logo-locaweb.png">
        </h1>

        <div class="container alertas">
          <div class="row">
            <% if @user.errors.any?%>
              <% @user.errors.full_messages.each do |msg| %>
                <div id="message" class="ls-alert-info ls-dismissable">
                  <%= msg %>
                  <span data-ls-module="dismiss" class="ls-dismiss">&times;</span>
                </div>
              <% end %>
            <% end %>
          </div>
        </div>

        <%= form_with(model: @user, class: "ls-form ls-login-form") do |f| %>
          <fieldset>
            <label class="ls-label">
              <b class="ls-label-text ls-hidden-accessible">E-mail</b>
              <%= f.email_field :email, autofocus: true, autocomplete: "email", class:"ls-field-lg", placeholder: "Email", disabled: (true if current_user.email == @user.email) %>
            </label>

            <label class="ls-label">
              <b class="ls-label-text ls-hidden-accessible">Senha</b>
              <%= f.password_field :password, autocomplete: "new-password", class: "ls-field-lg", placeholder: "Senha" %>
            </label>


            <div class="field adjust">
              <%= f.check_box :administrator, disabled: (true if current_user.email == @user.email) %>
              <%= f.label :administrator, 'Administrador' %>
            </div>

            <%= f.submit "Alterar", class: "ls-btn-primary ls-btn-block ls-btn-lg" %>
          </fieldset>
        <% end %>
      </div>
    </div>
  </div>
</div>
